[ ca ]
default_ca = ca1

[ ca1 ]
dir             = tests/manual
private_key     = $dir/keys/ca1.pem
certificate     = $dir/ca1_certs/ca1.pem
serial          = $dir/ca1/db/serial
database        = $dir/ca1/db/index.txt
new_certs_dir   = $dir/ca1/newcerts
unique_subject  = no

# certificates options -------------------------------------
default_days    = 365
# use public-key default method
default_md      = default

# policy for certificates (defined below)
policy          = policy_cn_only
email_in_dn     = no
# do not preserve extra DN parameters in request
preserve        = no


# policy definitions ---------------------------------------
[ policy_cn_only ]
commonName              = supplied

[ policy_any ]
countryName             = optional
stateOrProvinceName     = optional
localityName            = optional
organizationName        = optional
organizationalUnitName  = optional
commonName              = supplied


# server certificate extensions ----------------------------
[ server_ext ]

basicConstraints    = critical,CA:FALSE

# Typical key usage for server cert
keyUsage            = digitalSignature
extendedKeyUsage    = serverAuth

# PKIX recommendations
subjectKeyIdentifier    = hash
authorityKeyIdentifier  = keyid,issuer

# Subject Alternative Name - needs to be supplied, if needed!
#subjectAltName = @alt_name


# client certificate extensions ----------------------------
[ client_ext ]

basicConstraints    = critical,CA:FALSE

# Typical key usage for server cert
keyUsage            = digitalSignature
extendedKeyUsage    = clientAuth

# PKIX recommendations
subjectKeyIdentifier    = hash
authorityKeyIdentifier  = keyid,issuer



# Request section ====================================================
[ req ]
# DN
distinguished_name  = req_distinguished_name
prompt              = no
# mask for permitted string types
string_mask         = utf8only


# extensions for self-signed certificate
x509_extensions     = ca_ext


# default DN parameters ------------------------------------
[ req_distinguished_name ]
# Subject fields
C       = CZ
L       = Prague
O       = CZ.NIC, z.s.p.o.
OU      = Turris
# Common name
CN      = Sentinel Development CA 1


# self-signed extensions -----------------------------------
[ ca_ext ]

# PKIX recommendation.
subjectKeyIdentifier    = hash
authorityKeyIdentifier  = keyid:always,issuer
basicConstraints        = critical,CA:TRUE

# only for issuing certs and CRL
keyUsage                = cRLSign, keyCertSign
