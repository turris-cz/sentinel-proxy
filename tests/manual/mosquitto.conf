# Set server port
listener 9099

################################################################################

# By default an SSL/TLS enabled listener will operate in a similar fashion to a
# https enabled web server, in that the server has a certificate signed by a
# CA and the client will verify that it is a trusted certificate. The overall
# aim is encryption of the network traffic. certfile and keyfile must be 
# present to enable certificate based TLS encryption.

# Path to the PEM encoded server key.
keyfile keys/mosquitto.pem

# Path to the PEM encoded server certificate.
certfile self_sign_certs/mosquitto.pem
# certfile ca1_certs/mosquitto.pem
# certfile ca2_certs/mosquitto.pem

################################################################################

# Determines whether clients that connect without providing a username are
# allowed to connect. If set to false then another means of connection should
# be created to control authenticated client access.
# All listeners now require authentication to be configured. This is with the
# exception of the case where no listener configuration is provided
# and hence the listener is bound to the loopback interface, as described above.
allow_anonymous true

# If require_certificate is true, you may set use_identity_as_username to true
# to use the CN value from the client certificate as a username.
# If this is true, the password_file option will not be used for this listener.
# This takes priority over use_subject_as_username if both are set to true.
# use_identity_as_username true

################################################################################

# By setting to true, a client connecting to this listener must provide a valid 
# certificate in order for the network connection to proceed. This allows access
# to the broker to be controlled outside of the mechanisms provided by MQTT.
# require_certificate true

# Defines the path to a file containing the PEM encoded CA certificates that
# are trusted when checking incoming client certificates.
# cafile ca1_certs/ca1.pem
# cafile ca1_certs/ca1.pem

################################################################################

# Logging
log_dest stdout
log_type all
log_timestamp true
